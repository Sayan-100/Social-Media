{console.log("hi -----------------------\x3e ");let t=function(){$("#new-post-form").submit(function(t){t.preventDefault();let o=new FormData;for(var s in o.append("content",$("#post-text").val()),o.append("avatar",document.getElementById("post-avatar").files[0]),o)console.log(s,o[s]);$.ajax({type:"post",url:"/posts/create",processData:!1,contentType:!1,cache:!1,data:o,success:function(t){let o=e(t.data.post);$("#posts-list-container>ul").prepend(o),n($(" .delete-post-button",o)),createComment(t.data.post._id),toggleLike($(" .toggle-like-button",o))},error:function(t){console.log(t.responseText)}})})},e=function(t){console.log("*****************"+t.user.name),console.log("****************** "+t.avatar);let e="";t.avatar&&(e=`<img class="card-img-top mb-0" src="${t.avatar}" alt=" post pic" width="200"><br>`);let n="";return t.likes.length>0&&(n=t.likes.length),$(`<li id="post-${t._id}" class="posts mb-4">\n      <div class="card" style="width: 32rem">\n        ${e}\n        <ul class="list-group list-group-flush">\n          <li class="list-group-item card-title">${t.content}</li>\n          <li class="list-group-item">\n            <a class="toggle-like-button text-decoration-none" data-likes="${t.likes.length}" href="/likes/toggle/?id=${t._id}&type=Post">\n            ${n} <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill mr-2" viewBox="0 0 16 16">\n            <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>\n        </svg>\n    </a>\n            Created By  ${t.user.name}\n          </li>\n          <li class="list-group-item">\n            <div class="post-comments">\n              <form\n                id="post-${t._id}-comments-form"\n                action="/comments/create"\n                method="POST"\n              >\n                <div class="mb-2">\n                  <input\n                    class="form-control"\n                    type="text"\n                    name="content"\n                    placeholder="Type Here to add comment..."\n                    required\n                  />\n                </div>\n                <div class="mb-2">\n                  <input\n                    class="form-control"\n                    type="hidden"\n                    name="post"\n                    value="${t._id}"\n                  />\n                </div>\n                <div class="mb-2">\n                  <input\n                    class="btn btn-success form-control"\n                    type="submit"\n                    value="Add Comment"\n                  />\n                </div>\n              </form>\n              <div class="post-comments-list">\n                <ul\n                  id="post-comments-${t._id}"\n                  class="list-group list-group-flush"\n                >\n                </ul>\n              </div>\n            </div>\n          </li>\n        </ul>\n    \n        <div class="card-body">\n          <a\n            class="delete-post-button card-link btn btn-warning"\n            href="/posts/destroy/${t._id}"\n            >Delete Post</a\n          >\n        </div>\n      </div>\n  </li>\n  `)},n=function(t){$(t).click(function(e){e.preventDefault(),console.log("****************** DeletePost",t),$.ajax({type:"get",url:$(t).prop("href"),success:function(t){console.log("Post is "+t.data.post_id),console.log("In Success-------------------\x3e"),$(`#post-${t.data.post_id}`).remove(),new Noty({theme:"relax",text:"Post Deleted",type:"success",layout:"topRight",timeout:1500}).show()},error:function(t){console.log("Executing In Error Block"),console.log("Error"+t.responseText)}})})},o=function(){$("#posts-list-container>ul>li").each(function(){let t=$(this),e=$(" .delete-post-button",t);n(e);let o=t.prop("id").split("-")[1];createComment(o)}),s()},s=function(){$("#posts-comment-list-container>ul>li").each(function(){console.log("all comments "+this);let t=$(this),e=$(" .delete-comment-button",t);deleteComment(e)})};t(),o()}