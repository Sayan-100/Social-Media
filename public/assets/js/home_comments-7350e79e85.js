let createComment=function(e){let t=$(`#post-${e}-comments-form`);t.submit(function(n){console.log("******************this is"),n.preventDefault(),$.ajax({type:"post",url:"/comments/create",data:t.serialize(),success:function(t){console.log("******************************* "+t.data.comment._id);let n=newCommentDom(t.data.comment);$(`#post-comments-${e}`).prepend(n),toggleLike($(" .toggle-like-button",n)),deleteComment($(" .delete-comment-button",n))},error:function(e){console.log("******************** error ",e)}})})},newCommentDom=function(e){let t="";return e.likes.length>0&&(t=e.likes.length),console.log("******************* comment created by ajax"),$(`\n    <li id="comment-${e._id}" class="list-group-item">\n        <div class="card" style="width: 14rem;">\n            <ul class="list-group list-group-flush">\n                <li class="list-group-item">\n                     ${e.content}\n                </li>\n                <li class="list-group-item">\n                    \n                        <a class="toggle-like-button text-decoration-none" data-likes="${e.likes.length}" href="/likes/toggle/?id=${e._id}&type=Comment">\n                            ${t} <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill mr-2" viewBox="0 0 16 16">\n                            <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>\n                        </svg>\n                        </a>\n\n                        <li class="list-group-item">\n                    ${e.user.name}\n                    </li>\n                        <a class="delete-comment-button card-link btn btn-warning" href="/comments/destroy/${e._id}">Delete Comment</a>    \n                </li>\n            </ul>\n        </div>\n    </li>`)},deleteComment=function(e){$(e).click(function(t){t.preventDefault(),console.log("******************** delete post",e),$.ajax({type:"get",url:$(e).prop("href"),success:function(e){$(`#comment-${e.data.comment_id}`).remove()},error:function(e){console.log("******************"+e)}})})};